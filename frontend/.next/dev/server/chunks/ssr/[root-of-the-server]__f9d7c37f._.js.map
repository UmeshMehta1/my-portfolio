{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark' | 'system';\n\ninterface ThemeContextType {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  resolvedTheme: 'light' | 'dark';\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  // Initialize with 'system' to match server render\n  const [theme, setTheme] = useState<Theme>('system');\n  const [resolvedTheme, setResolvedTheme] = useState<'light' | 'dark'>('light');\n  const [mounted, setMounted] = useState(false);\n\n  // Only run on client after mount to prevent hydration mismatch\n  useEffect(() => {\n    setMounted(true);\n    \n    // Read from localStorage only on client\n    if (typeof window !== 'undefined') {\n      const stored = localStorage.getItem('theme') as Theme | null;\n      if (stored) {\n        setTheme(stored);\n      }\n    }\n  }, []);\n\n  // Apply theme changes only after mount\n  useEffect(() => {\n    if (typeof window === 'undefined' || !mounted) return;\n\n    const root = window.document.documentElement;\n\n    // Resolve actual theme ('light' | 'dark')\n    let resolved: 'light' | 'dark';\n    if (theme === 'system') {\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      resolved = prefersDark ? 'dark' : 'light';\n    } else {\n      resolved = theme;\n    }\n\n    // Update classes for Tailwind dark mode and CSS variable overrides\n    if (resolved === 'dark') {\n      root.classList.add('dark');\n      root.classList.remove('light');\n    } else {\n      root.classList.add('light');\n      root.classList.remove('dark');\n    }\n\n    setResolvedTheme(resolved);\n\n    // Save preference\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('theme', theme);\n    }\n  }, [theme, mounted]);\n\n  // Always provide context with consistent initial values\n  const contextValue = {\n    theme,\n    setTheme,\n    resolvedTheme: mounted ? resolvedTheme : 'light', // Default to light before mount\n  };\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAYA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,kDAAkD;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ;IAC1C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAmB;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,+DAA+D;IAC/D,IAAA,kNAAS,EAAC;QACR,WAAW;QAEX,wCAAwC;QACxC;;IAMF,GAAG,EAAE;IAEL,uCAAuC;IACvC,IAAA,kNAAS,EAAC;QACR,wCAA+C;;;QAE/C,MAAM;QAEN,0CAA0C;QAC1C,IAAI;IAuBN,GAAG;QAAC;QAAO;KAAQ;IAEnB,wDAAwD;IACxD,MAAM,eAAe;QACnB;QACA;QACA,eAAe,UAAU,gBAAgB;IAC3C;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;kBAC3B;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/SocketProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\ninterface SocketContextType {\n  socket: Socket | null;\n  isConnected: boolean;\n  visitorCount: number;\n  onlineUsers: number;\n}\n\nconst SocketContext = createContext<SocketContextType>({\n  socket: null,\n  isConnected: false,\n  visitorCount: 0,\n  onlineUsers: 0,\n});\n\nexport function SocketProvider({ children }: { children: ReactNode }) {\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [visitorCount, setVisitorCount] = useState(0);\n  const [onlineUsers, setOnlineUsers] = useState(0);\n\n  // Track visitor via HTTP as fallback (ensures no visitors are lost)\n  useEffect(() => {\n    const trackVisitor = async () => {\n      try {\n        const apiUrl =\n          process.env.NEXT_PUBLIC_API_URL ||\n          'https://my-portfolio-72dq.onrender.com';\n        const sessionId = sessionStorage.getItem('sessionId') || `session-${Date.now()}-${Math.random()}`;\n        sessionStorage.setItem('sessionId', sessionId);\n\n        await fetch(`${apiUrl}/api/visitor/track`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            page: window.location.pathname,\n            referrer: document.referrer || '/',\n            sessionId: sessionId,\n          }),\n        });\n      } catch (error) {\n        console.error('Error tracking visitor:', error);\n      }\n    };\n\n    // Track on mount\n    trackVisitor();\n  }, []);\n\n  useEffect(() => {\n    const socketUrl = process.env.NEXT_PUBLIC_SOCKET_URL || process.env.NEXT_PUBLIC_API_URL || 'https://my-portfolio-72dq.onrender.com';\n    const newSocket = io(socketUrl, {\n      transports: ['websocket', 'polling'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionAttempts: 5,\n    });\n\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      console.log('Connected to server');\n    });\n\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n      console.log('Disconnected from server');\n    });\n\n    newSocket.on('visitorCount', (count: number) => {\n      setVisitorCount(count);\n    });\n\n    newSocket.on('onlineUsers', (count: number) => {\n      setOnlineUsers(count);\n    });\n\n    newSocket.on('newVisitor', () => {\n      // Optional: Show notification or animation\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  return (\n    <SocketContext.Provider value={{ socket, isConnected, visitorCount, onlineUsers }}>\n      {children}\n    </SocketContext.Provider>\n  );\n}\n\nexport function useSocket() {\n  return useContext(SocketContext);\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAYA,MAAM,8BAAgB,IAAA,sNAAa,EAAoB;IACrD,QAAQ;IACR,aAAa;IACb,cAAc;IACd,aAAa;AACf;AAEO,SAAS,eAAe,EAAE,QAAQ,EAA2B;IAClE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,oEAAoE;IACpE,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,SACJ,8EACA;gBACF,MAAM,YAAY,eAAe,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,IAAI;gBACjG,eAAe,OAAO,CAAC,aAAa;gBAEpC,MAAM,MAAM,GAAG,OAAO,kBAAkB,CAAC,EAAE;oBACzC,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;wBACnB,MAAM,OAAO,QAAQ,CAAC,QAAQ;wBAC9B,UAAU,SAAS,QAAQ,IAAI;wBAC/B,WAAW;oBACb;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC3C;QACF;QAEA,iBAAiB;QACjB;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY,4JAAyE;QAC3F,MAAM,YAAY,IAAA,8LAAE,EAAC,WAAW;YAC9B,YAAY;gBAAC;gBAAa;aAAU;YACpC,cAAc;YACd,mBAAmB;YACnB,sBAAsB;QACxB;QAEA,UAAU,EAAE,CAAC,WAAW;YACtB,eAAe;YACf,QAAQ,GAAG,CAAC;QACd;QAEA,UAAU,EAAE,CAAC,cAAc;YACzB,eAAe;YACf,QAAQ,GAAG,CAAC;QACd;QAEA,UAAU,EAAE,CAAC,gBAAgB,CAAC;YAC5B,gBAAgB;QAClB;QAEA,UAAU,EAAE,CAAC,eAAe,CAAC;YAC3B,eAAe;QACjB;QAEA,UAAU,EAAE,CAAC,cAAc;QACzB,2CAA2C;QAC7C;QAEA,UAAU;QAEV,OAAO;YACL,UAAU,KAAK;QACjB;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;YAAQ;YAAa;YAAc;QAAY;kBAC7E;;;;;;AAGP;AAEO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport { ThemeProvider } from './ThemeProvider';\nimport { SocketProvider } from './SocketProvider';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <ThemeProvider>\n      <SocketProvider>\n        {children}\n      </SocketProvider>\n    </ThemeProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,8OAAC,oJAAa;kBACZ,cAAA,8OAAC,sJAAc;sBACZ;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/Analytics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\n\nexport function Analytics() {\n  const pathname = usePathname();\n\n  useEffect(() => {\n    // Track page views\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', process.env.NEXT_PUBLIC_GA_ID, {\n        page_path: pathname,\n      });\n    }\n  }, [pathname]);\n\n  return null;\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKO,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACR,mBAAmB;QACnB;;IAKF,GAAG;QAAC;KAAS;IAEb,OAAO;AACT"}}]
}