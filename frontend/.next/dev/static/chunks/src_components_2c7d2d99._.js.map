{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark' | 'system';\n\ninterface ThemeContextType {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n  resolvedTheme: 'light' | 'dark';\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  // Initialize with 'system' to match server render\n  const [theme, setTheme] = useState<Theme>('system');\n  const [resolvedTheme, setResolvedTheme] = useState<'light' | 'dark'>('light');\n  const [mounted, setMounted] = useState(false);\n\n  // Only run on client after mount to prevent hydration mismatch\n  useEffect(() => {\n    setMounted(true);\n    \n    // Read from localStorage only on client\n    if (typeof window !== 'undefined') {\n      const stored = localStorage.getItem('theme') as Theme | null;\n      if (stored) {\n        setTheme(stored);\n      }\n    }\n  }, []);\n\n  // Apply theme changes only after mount\n  useEffect(() => {\n    if (typeof window === 'undefined' || !mounted) return;\n\n    const root = window.document.documentElement;\n\n    // Resolve actual theme ('light' | 'dark')\n    let resolved: 'light' | 'dark';\n    if (theme === 'system') {\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      resolved = prefersDark ? 'dark' : 'light';\n    } else {\n      resolved = theme;\n    }\n\n    // Update classes for Tailwind dark mode and CSS variable overrides\n    if (resolved === 'dark') {\n      root.classList.add('dark');\n      root.classList.remove('light');\n    } else {\n      root.classList.add('light');\n      root.classList.remove('dark');\n    }\n\n    setResolvedTheme(resolved);\n\n    // Save preference\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('theme', theme);\n    }\n  }, [theme, mounted]);\n\n  // Always provide context with consistent initial values\n  const contextValue = {\n    theme,\n    setTheme,\n    resolvedTheme: mounted ? resolvedTheme : 'light', // Default to light before mount\n  };\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAYA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,kDAAkD;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ;IAC1C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAmB;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,+DAA+D;IAC/D,IAAA,0KAAS;mCAAC;YACR,WAAW;YAEX,wCAAwC;YACxC,wCAAmC;gBACjC,MAAM,SAAS,aAAa,OAAO,CAAC;gBACpC,IAAI,QAAQ;oBACV,SAAS;gBACX;YACF;QACF;kCAAG,EAAE;IAEL,uCAAuC;IACvC,IAAA,0KAAS;mCAAC;YACR,IAAI,+CAAkB,eAAe,CAAC,SAAS;YAE/C,MAAM,OAAO,OAAO,QAAQ,CAAC,eAAe;YAE5C,0CAA0C;YAC1C,IAAI;YACJ,IAAI,UAAU,UAAU;gBACtB,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;gBAC7E,WAAW,cAAc,SAAS;YACpC,OAAO;gBACL,WAAW;YACb;YAEA,mEAAmE;YACnE,IAAI,aAAa,QAAQ;gBACvB,KAAK,SAAS,CAAC,GAAG,CAAC;gBACnB,KAAK,SAAS,CAAC,MAAM,CAAC;YACxB,OAAO;gBACL,KAAK,SAAS,CAAC,GAAG,CAAC;gBACnB,KAAK,SAAS,CAAC,MAAM,CAAC;YACxB;YAEA,iBAAiB;YAEjB,kBAAkB;YAClB,wCAAmC;gBACjC,aAAa,OAAO,CAAC,SAAS;YAChC;QACF;kCAAG;QAAC;QAAO;KAAQ;IAEnB,wDAAwD;IACxD,MAAM,eAAe;QACnB;QACA;QACA,eAAe,UAAU,gBAAgB;IAC3C;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;kBAC3B;;;;;;AAGP;GA/DgB;KAAA;AAiET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/SocketProvider.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\ninterface SocketContextType {\n  socket: Socket | null;\n  isConnected: boolean;\n  visitorCount: number;\n  onlineUsers: number;\n}\n\nconst SocketContext = createContext<SocketContextType>({\n  socket: null,\n  isConnected: false,\n  visitorCount: 0,\n  onlineUsers: 0,\n});\n\nexport function SocketProvider({ children }: { children: ReactNode }) {\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [visitorCount, setVisitorCount] = useState(0);\n  const [onlineUsers, setOnlineUsers] = useState(0);\n\n  // Track visitor via HTTP as fallback (ensures no visitors are lost)\n  useEffect(() => {\n    const trackVisitor = async () => {\n      try {\n        const apiUrl =\n          process.env.NEXT_PUBLIC_API_URL ||\n          'https://my-portfolio-72dq.onrender.com';\n        const sessionId = sessionStorage.getItem('sessionId') || `session-${Date.now()}-${Math.random()}`;\n        sessionStorage.setItem('sessionId', sessionId);\n\n        await fetch(`${apiUrl}/api/visitor/track`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            page: window.location.pathname,\n            referrer: document.referrer || '/',\n            sessionId: sessionId,\n          }),\n        });\n      } catch (error) {\n        console.error('Error tracking visitor:', error);\n      }\n    };\n\n    // Track on mount\n    trackVisitor();\n  }, []);\n\n  useEffect(() => {\n    const socketUrl = process.env.NEXT_PUBLIC_SOCKET_URL || process.env.NEXT_PUBLIC_API_URL || 'https://my-portfolio-72dq.onrender.com';\n    const newSocket = io(socketUrl, {\n      transports: ['websocket', 'polling'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionAttempts: 5,\n    });\n\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      console.log('Connected to server');\n    });\n\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n      console.log('Disconnected from server');\n    });\n\n    newSocket.on('visitorCount', (count: number) => {\n      setVisitorCount(count);\n    });\n\n    newSocket.on('onlineUsers', (count: number) => {\n      setOnlineUsers(count);\n    });\n\n    newSocket.on('newVisitor', () => {\n      // Optional: Show notification or animation\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  return (\n    <SocketContext.Provider value={{ socket, isConnected, visitorCount, onlineUsers }}>\n      {children}\n    </SocketContext.Provider>\n  );\n}\n\nexport function useSocket() {\n  return useContext(SocketContext);\n}\n\n"],"names":[],"mappings":";;;;;;AA8BU;;AA5BV;AACA;;;AAHA;;;AAYA,MAAM,8BAAgB,IAAA,8KAAa,EAAoB;IACrD,QAAQ;IACR,aAAa;IACb,cAAc;IACd,aAAa;AACf;AAEO,SAAS,eAAe,EAAE,QAAQ,EAA2B;;IAClE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAgB;IACpD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,oEAAoE;IACpE,IAAA,0KAAS;oCAAC;YACR,MAAM;yDAAe;oBACnB,IAAI;wBACF,MAAM,SACJ,8EACA;wBACF,MAAM,YAAY,eAAe,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,IAAI;wBACjG,eAAe,OAAO,CAAC,aAAa;wBAEpC,MAAM,MAAM,GAAG,OAAO,kBAAkB,CAAC,EAAE;4BACzC,QAAQ;4BACR,SAAS;gCACP,gBAAgB;4BAClB;4BACA,MAAM,KAAK,SAAS,CAAC;gCACnB,MAAM,OAAO,QAAQ,CAAC,QAAQ;gCAC9B,UAAU,SAAS,QAAQ,IAAI;gCAC/B,WAAW;4BACb;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,2BAA2B;oBAC3C;gBACF;;YAEA,iBAAiB;YACjB;QACF;mCAAG,EAAE;IAEL,IAAA,0KAAS;oCAAC;YACR,MAAM,YAAY,4JAAyE;YAC3F,MAAM,YAAY,IAAA,wLAAE,EAAC,WAAW;gBAC9B,YAAY;oBAAC;oBAAa;iBAAU;gBACpC,cAAc;gBACd,mBAAmB;gBACnB,sBAAsB;YACxB;YAEA,UAAU,EAAE,CAAC;4CAAW;oBACtB,eAAe;oBACf,QAAQ,GAAG,CAAC;gBACd;;YAEA,UAAU,EAAE,CAAC;4CAAc;oBACzB,eAAe;oBACf,QAAQ,GAAG,CAAC;gBACd;;YAEA,UAAU,EAAE,CAAC;4CAAgB,CAAC;oBAC5B,gBAAgB;gBAClB;;YAEA,UAAU,EAAE,CAAC;4CAAe,CAAC;oBAC3B,eAAe;gBACjB;;YAEA,UAAU,EAAE,CAAC;4CAAc;gBACzB,2CAA2C;gBAC7C;;YAEA,UAAU;YAEV;4CAAO;oBACL,UAAU,KAAK;gBACjB;;QACF;mCAAG,EAAE;IAEL,qBACE,6LAAC,cAAc,QAAQ;QAAC,OAAO;YAAE;YAAQ;YAAa;YAAc;QAAY;kBAC7E;;;;;;AAGP;GA/EgB;KAAA;AAiFT,SAAS;;IACd,OAAO,IAAA,2KAAU,EAAC;AACpB;IAFgB"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport { ThemeProvider } from './ThemeProvider';\nimport { SocketProvider } from './SocketProvider';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <ThemeProvider>\n      <SocketProvider>\n        {children}\n      </SocketProvider>\n    </ThemeProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,uJAAa;kBACZ,cAAA,6LAAC,yJAAc;sBACZ;;;;;;;;;;;AAIT;KARgB"}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///run/media/umeshmehta/New%20Volume/my-portfolio/frontend/src/components/Analytics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\n\nexport function Analytics() {\n  const pathname = usePathname();\n\n  useEffect(() => {\n    // Track page views\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('config', process.env.NEXT_PUBLIC_GA_ID, {\n        page_path: pathname,\n      });\n    }\n  }, [pathname]);\n\n  return null;\n}\n\n"],"names":[],"mappings":";;;;AAWqC;AATrC;AACA;;AAHA;;;AAKO,SAAS;;IACd,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;+BAAC;YACR,mBAAmB;YACnB,IAAI,+CAAkB,eAAe,AAAC,OAAe,IAAI,EAAE;gBACxD,OAAe,IAAI,CAAC,UAAU,2KAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE;oBAC5D,WAAW;gBACb;YACF;QACF;8BAAG;QAAC;KAAS;IAEb,OAAO;AACT;GAbgB;;QACG,oJAAW;;;KADd"}}]
}